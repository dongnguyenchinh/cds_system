<%= javascript_include_tag 'table_title_mapping.js', media: 'all', 'data-turbolinks-track': 'reload' %>
<div class='row'>
  <div class='col-12'>
    <div class='basic-table-wrapper'>
        <table class="table table-responsive-sm table-basic table-mytable border-table table-new-title-mapping">
          <thead>
            <tr id="title_header_column">
              <td class="th">Title</td>
              <td class="th">Rank</td>
              <% @list_title[:competency].each do |item| %>
                <td class="dynamic_title_header_col" data-competency-id='<%= item.id %>'><%= item.name %> (*)</td>
              <% end %>
            </tr>
          </thead>
          <tbody>
          <% @list_title[:data_real].each do |item| %>
            <tr data-title_id='<%= item.id %>'>
              <td><%= item.name %></td>
              <td class="number"><%= item.rank %></td>
              <% @list_title[:competency].each do |item| %>
                <td class="competency_row">
                  <select class="form-control competency_value">
                    <%= 1.upto(@list_title[:no_rank].to_i) do |i| %>
                      <option value="<%=(i - 1)%>-<%= i %>"><%=(i - 1)%>-<%= i %></option>
                      <option value="++<%=i%>">++<%=i%></option>
                      <option value="<%=i%>"><%=i%></option>
                    <% end %>
                  </select>
                </td>
              <% end %>
            </tr>
          <% end %>
          </tbody>
        </table>
    </div>
  </div>
</div>