<div class="row div-row arrow-box" style="margin-right:0px">
  <div id="btn_view_result" class="col-3 div-child-slot" data-toggle="collapse" data-target="#table_point" style="min-width: 430px;">
    <a type='button' class='btn-action' title="View slot's history" ><i class="fas fa-caret-down"></i></a>
    <b>View Suggest CDS/CDP Assessment Point Details</b>
  </div>
</div>
<br>
<div id="table_point" class="collapse">
  <div class="row" style="margin-bottom: 10px; margin-right:0px">
    <div class="col-2 legend">
      <div class="btn assessed" disabled>&nbsp;</div>
      <div class="label">Assess CDS in current period</div>
    </div>
    <div class="col-2 legend">
      <div class="btn re-assessed-slots" disabled>&nbsp;</div>
      <div class="label">Re-assess CDS in current slots</div>
    </div>
    <div class="col-2 legend">
      <div class="btn new" disabled>&nbsp;</div>
      <div class="label">No-assessment</div>
    </div>
    <div class="col-2 legend">
      <div class="btn slot-cdp" disabled>&nbsp;</div>
      <div class="label">Assess CDP</div>
    </div>
    <div class="col-2 legend">
      <div class="btn pass-slot" disabled>>= 3</div>
      <div class="label">Passed slots</div>
    </div>
    <div class="col-2 legend">
      <div class="btn fail-slot" disabled><= 2</div>
      <div class="label">Failed slots</div>
    </div>
  </div>
  <div class="padding-collapse-children collapse show"">
    <div class="horizontal-scroll-except-first-column">
      <table class="table table-striped table-responsive-sm table-preview-result">
        <thead>
          <tr>
            <th style="width:400px" class="fixed-header column-1">Competency</th>
            <% @slots.each_with_index do |slot, i| %>
              <th class="slot-header lv<%= slot.to_i %>"><%= slot %></th>
            <% end %>
          </tr>
        </thead>
        <tbody>
          <% @competencies.each do |competency| %>
            <tr>
              <td style="width:400px" class="form-competency-name fixed-column column-1"><%= competency.name %></td>
              <% @slots.each_with_index do |slot, i| %>
                <td class="slot <%= @result[competency.name][slot][:type] + " " + @result[competency.name][slot][:class] unless @result[competency.name].nil? || @result[competency.name][slot].nil? %>"><%= @result[competency.name].nil? || @result[competency.name][slot].nil? ? "" : @result[competency.name][slot][:value] %></td>
              <% end %>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>
